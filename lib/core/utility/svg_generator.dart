Map<String, int> hexToRgb(String hex) {
  hex = hex.replaceFirst('#', '');
  return {
    'r': int.parse(hex.substring(0, 2), radix: 16),
    'g': int.parse(hex.substring(2, 4), radix: 16),
    'b': int.parse(hex.substring(4, 6), radix: 16),
  };
}

String rgbToHex(int r, int g, int b) {
  return '#${r.toRadixString(16).padLeft(2, '0')}${g.toRadixString(16).padLeft(2, '0')}${b.toRadixString(16).padLeft(2, '0')}'
      .toUpperCase();
}

String toHex(int value) {
  return value.clamp(0, 255).toRadixString(16).padLeft(2, '0').toUpperCase();
}

List<String> generateShades(String mainHex) {
  mainHex = mainHex.replaceAll('#', '');

  int r = int.parse(mainHex.substring(0, 2), radix: 16);
  int g = int.parse(mainHex.substring(2, 4), radix: 16);
  int b = int.parse(mainHex.substring(4, 6), radix: 16);

  List<List<int>> shades = [
    [(r * 0.5).toInt(), (g * 0.3).toInt(), (b * 0.3).toInt()],
    [(r * 0.68).toInt(), (g * 0.45).toInt(), (b * 0.4).toInt()],
    [(r * 0.91).toInt(), (g * 0.79).toInt(), (b * 0.96).toInt()],
  ];

  return shades
      .map((rgb) => '#${toHex(rgb[0])}${toHex(rgb[1])}${toHex(rgb[2])}')
      .toList();
}

String generateSvg(
  String bodyColor,
  String lidBody,
  String lidDark,
  String lidLight,
  String bodyDark,
) {
  return '''
<svg width="439" height="729" viewBox="0 0 439 729" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M392.032 642.841H50.636V683.809H392.032V642.841Z" fill="#131616"/>
<path d="M381.351 44.9501C374.862 18.5551 351.193 0 324.012 0H222.465H120.918C93.7369 0 70.0679 18.5551 63.5789 44.9501L33.6389 166.739H222.465H411.291L381.351 44.9501Z" fill="$lidBody"/>
<path d="M438.363 238.919H0V190.741C0 177.485 10.746 166.739 24.002 166.739H414.359C427.615 166.739 438.361 177.485 438.361 190.741V238.919H438.363Z" fill="$bodyColor"/>
<path d="M223.694 238.919H221.236H33.6389L91.3269 679.082C92.5369 688.311 100.402 695.213 109.711 695.213H221.237H223.695H335.221C344.53 695.213 352.395 688.311 353.605 679.082L411.292 238.919H223.694Z" fill="$bodyColor"/>
<path d="M332.692 114.684L317.238 40.374C314.471 27.068 302.745 17.53 289.155 17.53H223.179H215.186H149.21C135.619 17.53 123.894 27.068 121.126 40.374L105.672 114.684C101.968 132.494 115.565 149.209 133.756 149.209H215.186H223.179H304.609C322.799 149.209 336.396 132.493 332.692 114.684Z" fill="$lidLight"/>
<path d="M78.9769 605.661H33.6389V728.888H78.9769V605.661Z" fill="#313738"/>
<path d="M78.9779 605.661H67.2979C69.0269 618.056 70.4799 630.519 69.9089 643.004C69.2429 657.552 65.6489 672.3 57.2699 684.211C53.5859 689.449 48.9279 694.034 43.5879 697.575C40.4479 699.657 37.0229 700.856 33.6399 702.156V728.889H78.9779V605.661Z" fill="#131616"/>
<path d="M33.8959 622.513C24.3749 629.306 17.5969 646.781 17.5969 667.275C17.5969 687.769 24.3749 705.244 33.8959 712.037V622.513Z" fill="$bodyColor"/>
<path d="M367.062 728.864L412.4 728.673L411.883 605.446L366.545 605.637L367.062 728.864Z" fill="#313738"/>
<path d="M366.518 605.663L378.198 605.614C376.522 618.016 375.121 630.485 375.745 642.967C376.472 657.512 380.128 672.244 388.557 684.12C392.263 689.342 396.94 693.908 402.295 697.426C405.444 699.495 408.874 700.679 412.262 701.965L412.375 728.697L367.037 728.888L366.518 605.663Z" fill="#131616"/>
<path d="M411.669 622.323C421.218 629.076 428.07 646.522 428.156 667.016C428.242 687.51 421.538 705.014 412.046 711.847L411.669 622.323Z" fill="$bodyColor"/>
<path d="M223.694 238.919H221.237H33.6389L35.2659 251.334C122.215 266.357 213.911 254.443 297.376 283.119C318.896 290.513 341.08 302.047 350.692 322.673C355.619 333.246 356.696 345.151 357.508 356.788C362.731 431.634 359.944 507.035 349.209 581.291C346.307 601.369 342.484 622.191 330.405 638.49C307.991 668.734 265.469 673.907 227.862 675.575C197.803 676.909 167.61 677.636 137.693 674.431C122.939 672.85 107.876 670.167 95.2129 662.433C92.8589 660.995 90.6229 659.379 88.5129 657.614L91.3269 679.083C92.5369 688.312 100.402 695.214 109.711 695.214H221.237H223.694H335.22C344.529 695.214 352.394 688.312 353.604 679.083L411.292 238.919H223.694Z" fill="$bodyDark"/>
<path opacity="0.12" d="M57.4849 282.32C54.0679 289.702 55.5969 298.314 57.1559 306.297C72.8839 386.832 84.9709 468.078 93.3689 549.704C94.3389 559.132 98.9299 571.601 108.272 570.006C116.917 568.53 118.055 556.672 116.965 547.97C107.582 473.062 94.0479 397.935 98.9889 322.604C99.6409 312.667 100.59 302.486 97.8489 292.911C93.4079 277.398 67.3369 261.032 57.4849 282.32Z" fill="white"/>
<path opacity="0.12" d="M12.0651 183.976C12.3291 188.517 16.4681 192.066 20.8731 193.199C25.2781 194.333 29.9191 193.6 34.4181 192.934C80.0851 186.175 126.477 186.92 172.641 186.574C174.547 186.56 176.543 186.521 178.215 185.607C179.887 184.692 181.08 182.596 180.329 180.844C179.545 179.014 177.237 178.496 175.259 178.269C166.004 177.207 156.664 177.217 147.348 177.229C122.075 177.261 96.8021 177.294 71.5291 177.326C62.6331 177.337 11.3251 171.25 12.0651 183.976Z" fill="white"/>
<path d="M317.238 40.374C314.471 27.068 302.745 17.53 289.154 17.53H223.178H215.185H149.209C135.618 17.53 123.893 27.068 121.125 40.374L105.671 114.684C101.967 132.494 115.564 149.209 133.755 149.209H171.006C165.894 140.533 163.388 130.132 164.567 120.154C167.246 97.466 184.964 78.645 205.717 69.092C226.469 59.539 249.929 57.8481 272.775 57.9081C289.496 57.9521 307.78 59.764 322.682 66.552L317.238 40.374Z" fill="$lidDark"/>
<path d="M297.468 435.362C296.817 433.976 293.458 432.671 288.914 431.561C289.417 424.25 288.335 412.889 283.022 395.493C278.051 379.216 249.328 353.577 242.116 347.33C242.137 346.459 242.035 345.7 241.783 345.092C239.3 339.11 212.139 333.819 209.39 337.766C208.511 339.028 209.07 342.615 210.392 347.133C203.743 349.853 193.715 356.358 179.743 371.332C166.444 385.585 158.088 432.967 158.088 432.967C158.088 432.967 158.367 432.458 158.886 431.545C156.038 437.985 164.528 462.178 169.136 462.569C170.668 462.699 173.496 460.422 176.747 457.017C182.427 461.415 193.075 466.847 213.028 471.46C232.021 475.85 277.233 459.396 277.233 459.396C277.233 459.396 277.202 459.397 277.145 459.398C284.745 456.622 299.31 439.285 297.468 435.362ZM222.092 453.737C207.232 449.338 197.449 443.099 191.478 438.12C193.828 434.507 195.402 431.595 195.499 430.41C195.859 426.012 163.944 424.771 159.285 430.853C159.278 430.862 159.273 430.872 159.266 430.881C163.261 423.904 176.837 401.07 190.562 388.042C201.802 377.373 212.096 372.02 219.394 369.338C221.348 373.18 223.083 375.999 224.06 376.675C227.239 378.875 240.703 358.412 242.018 348.548C246.394 356.114 258.835 378.576 263.142 396.505C266.377 409.971 266.312 420.659 265.316 428.249C260.919 428.008 257.527 428.095 256.437 428.611C252.641 430.407 265.938 456.09 273.779 459.421C264.672 459.414 239.506 458.893 222.092 453.737Z" fill="white"/>
</svg>

''';
}
